{"meta":{"title":"SeeFly的博客","subtitle":"","description":"","author":"SeeFly","url":"https://itwangmingfei.github.io","root":"/"},"pages":[{"title":"标签","date":"2020-05-09T13:30:38.000Z","updated":"2020-05-09T13:31:16.100Z","comments":false,"path":"tags/index.html","permalink":"https://itwangmingfei.github.io/tags/index.html","excerpt":"","text":""},{"title":"友情链接","date":"2020-05-09T12:19:55.586Z","updated":"2020-05-09T11:05:34.561Z","comments":true,"path":"links/index.html","permalink":"https://itwangmingfei.github.io/links/index.html","excerpt":"","text":""},{"title":"书单","date":"2020-05-09T12:19:55.607Z","updated":"2020-05-09T11:05:34.561Z","comments":false,"path":"books/index.html","permalink":"https://itwangmingfei.github.io/books/index.html","excerpt":"","text":""},{"title":"关于","date":"2020-05-09T12:19:55.622Z","updated":"2020-05-09T11:05:34.561Z","comments":false,"path":"about/index.html","permalink":"https://itwangmingfei.github.io/about/index.html","excerpt":"","text":"个人详细介绍"},{"title":"404 Not Found：该页无法显示","date":"2020-05-09T12:19:55.634Z","updated":"2020-05-09T11:05:34.560Z","comments":false,"path":"/404.html","permalink":"https://itwangmingfei.github.io/404.html","excerpt":"","text":""},{"title":"分类","date":"2020-05-09T12:19:55.598Z","updated":"2020-05-09T11:05:34.561Z","comments":false,"path":"categories/index.html","permalink":"https://itwangmingfei.github.io/categories/index.html","excerpt":"","text":""},{"title":"GIT项目","date":"2020-05-09T13:27:01.000Z","updated":"2020-05-09T13:27:03.660Z","comments":false,"path":"repository/index.html","permalink":"https://itwangmingfei.github.io/repository/index.html","excerpt":"","text":""}],"posts":[{"title":"php方法","slug":"php方法","date":"2020-05-10T02:06:00.000Z","updated":"2020-05-10T04:28:35.339Z","comments":true,"path":"2020/05/10/php方法/","link":"","permalink":"https://itwangmingfei.github.io/2020/05/10/php%E6%96%B9%E6%B3%95/","excerpt":"","text":"1，获取链接后缀parse_url basename explode end1234567891011121314&lt;?php//获取后缀$url =\"https://www.yisu.com/reg.php?id=22\";//先切分$res = parse_url($url);var_dump($res);//获取basename$path = basename($res[\"path\"]);var_dump($path);//获取数组$arr = explode(\".\", $path);//获取最后一个元素echo (end($arr));?&gt; 123456789101112131415161718输出结果：array(4) &#123; [\"scheme\"]=&gt; string(5) \"https\" [\"host\"]=&gt; string(12) \"www.yisu.com\" [\"path\"]=&gt; string(8) \"/reg.php\" [\"query\"]=&gt; string(5) \"id=22\"&#125;array(2) &#123; [0]=&gt; string(3) \"reg\" [1]=&gt; string(3) \"php\"&#125;string(3) \"php\" 2，PHP代码确保多个进程同时写入同一个文件成功fopen flock LOCK_EX LOCK_UN fwrite1234567891011121314151617181920212223&lt;?phpecho \"&lt;pre&gt;\"; $handle = fopen(\"est.txt\", \"a+\");// 排它性的锁定if (flock($handle,LOCK_EX))&#123; fwrite($handle,\"W222\"); // release lock flock($handle,LOCK_UN);&#125;else&#123; echo \"Error locking file!\";&#125;fclose($handle);$Reader = fopen(\"est.txt\", \"r\");$content = fread($Reader, filesize(\"est.txt\"));var_dump($content);fclose($Reader)?&gt; 3，创建多级目录mkdir is_dir12345678910111213141516171819&lt;?php//创建多级目录echo \"&lt;pre&gt;\";$path = \"php/php1/php2\";echo $path;function create_dir($path,$mode=0777)&#123; if(is_dir($path))&#123; return \"目录已存在\"; &#125;else&#123; $res = mkdir($path,$mode,true); if($res) &#123; return \"创建成功\"; &#125;else&#123; return \"创建失败\"; &#125; &#125;&#125;$res = create_dir($path);var_dump($res); 4,遍历文件夹opendir readdir is_file12345678910111213141516171819202122232425&lt;?phpecho \"&lt;pre&gt;\";function fileShow($dir)&#123; $handle = opendir($dir); $filelist = array(); while($file = readdir($handle))&#123; if ($file !==\".\" &amp;&amp; $file !==\"..\") &#123; $lfile = $dir.\"/\".$file; if (is_file($lfile))&#123; //表示文件 $filelist[$dir][]=$lfile; &#125;else&#123; //文件夹 $filelist[$dir][]=fileShow($lfile); &#125; &#125; $i++; &#125; closedir($handle); return $filelist;&#125;$list = fileShow('.'); var_dump($list);","categories":[{"name":"php","slug":"php","permalink":"https://itwangmingfei.github.io/categories/php/"}],"tags":[{"name":"php方法","slug":"php方法","permalink":"https://itwangmingfei.github.io/tags/php%E6%96%B9%E6%B3%95/"}],"author":"SeeFly"},{"title":"Mysql","slug":"Mysql","date":"2020-05-09T13:46:00.000Z","updated":"2020-05-09T13:46:48.916Z","comments":true,"path":"2020/05/09/Mysql/","link":"","permalink":"https://itwangmingfei.github.io/2020/05/09/Mysql/","excerpt":"","text":"","categories":[{"name":"mysql","slug":"mysql","permalink":"https://itwangmingfei.github.io/categories/mysql/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"https://itwangmingfei.github.io/tags/mysql/"}],"author":"SeeFly"},{"title":"Git","slug":"Git","date":"2020-05-09T13:43:00.000Z","updated":"2020-05-09T15:50:12.878Z","comments":true,"path":"2020/05/09/Git/","link":"","permalink":"https://itwangmingfei.github.io/2020/05/09/Git/","excerpt":"","text":"下载clone 12345git clone “git地址”git add . git commit -m \"提交的什么\"git push origin master git设置用户 12345$ git config user.name$ git config user.email$ git config --global user.name \"xxxx\"$ git config --global user.email \"xxxx\" 创建新分支 1git checkout -b 新分支名 查看分支 1git branch 切换分支 1git checkout 分支名 版本回滚某个版本 1git reset --hard 版本号 merge 1git merge branch git 生成密钥 1ssh-keygen -t rsa -C \"账号邮箱\" git 屏蔽已经存在的文件 1Git update-index --assume-unchanged PATH（文件路径）","categories":[{"name":"git","slug":"git","permalink":"https://itwangmingfei.github.io/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"https://itwangmingfei.github.io/tags/git/"}],"author":"SeeFly"},{"title":"GO","slug":"GO","date":"2020-05-09T13:42:00.000Z","updated":"2020-05-09T13:44:29.889Z","comments":true,"path":"2020/05/09/GO/","link":"","permalink":"https://itwangmingfei.github.io/2020/05/09/GO/","excerpt":"","text":"G","categories":[{"name":"go","slug":"go","permalink":"https://itwangmingfei.github.io/categories/go/"}],"tags":[{"name":"go","slug":"go","permalink":"https://itwangmingfei.github.io/tags/go/"}],"author":"SeeFly"},{"title":"Nginx for Mac","slug":"Nginx","date":"2020-05-09T13:42:00.000Z","updated":"2020-05-09T14:31:42.541Z","comments":true,"path":"2020/05/09/Nginx/","link":"","permalink":"https://itwangmingfei.github.io/2020/05/09/Nginx/","excerpt":"","text":"1，打开终端2，输入1234brew --updatebrew search nginx //查看nginx是否安装brew info nginx //查看nginx配置 端口 目录 brew install nginx 3,启动nginx1234567sudo nginx //启动sudo nginx -s reload //重启sudo nginx -s stop //停止sudo nginx -t //检测配置文件 4,查看1http://127.0.0.1:8080","categories":[{"name":"nginx","slug":"nginx","permalink":"https://itwangmingfei.github.io/categories/nginx/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"https://itwangmingfei.github.io/tags/nginx/"}],"author":"SeeFly"},{"title":"PHP for Mac +nginx","slug":"PHP面试题","date":"2020-05-09T13:35:00.000Z","updated":"2020-05-09T14:54:29.061Z","comments":true,"path":"2020/05/09/PHP面试题/","link":"","permalink":"https://itwangmingfei.github.io/2020/05/09/PHP%E9%9D%A2%E8%AF%95%E9%A2%98/","excerpt":"","text":"查看php文件路径1locate php-fpm /private/etc/php-fpm.conf.default/private/etc/php-fpm.d/www.conf.default 12345sudo cp /private/etc/php-fpm.conf.default /private/etc/php-fpm.conf// 打开 复制的文件打开并修改路径 error_log = /usr/local/var/log/php-fpm.logsudo cp /private/etc/php-fpm.d/www.conf.default /private/etc/php-fpm.d/www.confsudu killall php-fpm //清除sudo php-fpm -D //重启 关联nginx123456789101112131415161718192021222324vim /usr/local/etc/nginx/nginx.conf===============================直接覆盖events &#123; worker_connections 256;&#125;http &#123; include mime.types; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log /usr/local/var/log/access.log main; sendfile on; keepalive_timeout 65; port_in_redirect off; include /usr/local/etc/nginx/conf.d/*.conf;&#125; 创建 conf.d12cd /usr/local/etc/nginx/mkdir conf.d 创建文件 php-fpm123456789101112cd conf.dvim php-fpm======================#proxy the php scripts to php-fpmlocation ~ \\.php$ &#123; try_files $uri = 404; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_intercept_errors on; include /usr/local/etc/nginx/fastcgi.conf;&#125; 创建文件 default.conf12345678910111213141516171819202122232425vim default.conf====================server &#123; listen 80; server_name localhost; root 项目路径; access_log /usr/local/var/log/nginx/access.log main; location / &#123; index index.html index.htm index.php; autoindex on; include /usr/local/etc/nginx/conf.d/php-fpm; &#125; location = /info &#123; allow 127.0.0.1; deny all; rewrite (.*) /.info.php; &#125; error_page 404 /404.html; error_page 403 /403.html;&#125;","categories":[{"name":"php","slug":"php","permalink":"https://itwangmingfei.github.io/categories/php/"}],"tags":[{"name":"php","slug":"php","permalink":"https://itwangmingfei.github.io/tags/php/"}],"author":"John Doe"},{"title":"HEXO","slug":"hello-world","date":"2020-05-09T13:25:00.000Z","updated":"2020-05-09T16:05:25.243Z","comments":true,"path":"2020/05/09/hello-world/","link":"","permalink":"https://itwangmingfei.github.io/2020/05/09/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy or hexo d hexo-admin 可视化编辑1234npm install --save hexo-adminhexo server or hexo slocalhost:4000/admin git设置 配置 _config.yml 有两个文件12npm install hexo-deployer-git --save` _config.yml配置文件加入1234deploy: type: git repository: 要提交的git地址 branch: master 12hexo g //生成静态文件hexo d //提交git search1npm install hexo-generator-json-content -save pure框架1https://github.com/cofess/hexo-theme-pure/blob/master/README.cn.md 豆瓣1https://www.douban.com/people/Itwangmingfei/ 留言1https://leancloud.cn/dashboard/settings.html#/setting/mail","categories":[{"name":"HEXO","slug":"HEXO","permalink":"https://itwangmingfei.github.io/categories/HEXO/"}],"tags":[{"name":"HEXO","slug":"HEXO","permalink":"https://itwangmingfei.github.io/tags/HEXO/"}],"author":"SeeFly"}],"categories":[{"name":"php","slug":"php","permalink":"https://itwangmingfei.github.io/categories/php/"},{"name":"mysql","slug":"mysql","permalink":"https://itwangmingfei.github.io/categories/mysql/"},{"name":"git","slug":"git","permalink":"https://itwangmingfei.github.io/categories/git/"},{"name":"go","slug":"go","permalink":"https://itwangmingfei.github.io/categories/go/"},{"name":"nginx","slug":"nginx","permalink":"https://itwangmingfei.github.io/categories/nginx/"},{"name":"HEXO","slug":"HEXO","permalink":"https://itwangmingfei.github.io/categories/HEXO/"}],"tags":[{"name":"php方法","slug":"php方法","permalink":"https://itwangmingfei.github.io/tags/php%E6%96%B9%E6%B3%95/"},{"name":"mysql","slug":"mysql","permalink":"https://itwangmingfei.github.io/tags/mysql/"},{"name":"git","slug":"git","permalink":"https://itwangmingfei.github.io/tags/git/"},{"name":"go","slug":"go","permalink":"https://itwangmingfei.github.io/tags/go/"},{"name":"nginx","slug":"nginx","permalink":"https://itwangmingfei.github.io/tags/nginx/"},{"name":"php","slug":"php","permalink":"https://itwangmingfei.github.io/tags/php/"},{"name":"HEXO","slug":"HEXO","permalink":"https://itwangmingfei.github.io/tags/HEXO/"}]}